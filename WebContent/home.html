<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="css/style.css">
<link rel="stylesheet" type="text/css" href="css/styleheader.css">
<link rel="icon" type="image/png" href="images/PupsBank03.png">
<script src="javascript/jquery-3.1.1.js"></script>
<title>PupsBank</title>
</head>

<body>
  <header>
    <div class="mainheader" id="privateclientsmenu">
      <div class="clientsmenu-1">
        <a href="#privateclients">For private clients ></a>
      </div>
      <div class="clientsmenu-2">
        <ul>
        <li><a href="">Bank accounts</a>
          <ul>
            <li><a href="">Silver account</a></li>
            <li><a href="">Gold account</a></li>
            <li><a href="">Platinum account</a></li>
            <li><a href="">Overdrafts</a></li>
            <li><a href="">Terms and conditions</a></li>
            <li><a href="">Silver account</a></li>
            <li><a href="">Gold account</a></li>
            <li><a href="">Platinum account</a></li>
            <li><a href="">Overdrafts</a></li>
            <li><a href="">Terms and conditions</a></li>
          </ul>
        </li>
        <li><a href="">Savings</a></li>
        <li><a href="">Credit Cards</a></li>
        <li><a href="">Loans</a>
          <ul>
            <li><a href="">Car Finance</a></li>
            <li><a href="">Mortgages</a></li>
            <li><a href="">Loan calculator</a></li>
            <li><a href="">Overdrafts</a></li>
            <li><a href="">Terms and conditions</a></li>
          </ul>
        </li>
        <li><a href="">More products</a></li>
        </ul>
      </div>
    </div>

    <div class="mainheader" id="businessclientsmenu" style="display: none;">
      <div class="clientsmenu-1">
        <a href="#businessclients">For business clients ></a>
      </div>
      <div class="clientsmenu-2">
        <ul>
        <li><a href="">Business accounts</a>
          <ul>
            <li><a href="">Business current account</a></li>
            <li><a href="">Treasurers' Account</a></li>
            <li><a href="">Switch your account to us</a></li>
            <li><a href="">Account for new businesses</a></li>
            <li><a href="">Terms and conditions</a></li>
          </ul>
        </li>
        <li><a href="">Loans and finance</a>
          <ul>
            <li><a href="">Business loans</a></li>
            <li><a href="">Overdrafts</a></li>
            <li><a href="">Mortgages</a></li>
            <li><a href="">Other finance options</a></li>
            <li><a href="">Terms and conditions</a></li>
          </ul>
        </li>
        <li><a href="">Industry specialists</a>
          <ul>
            <li><a href="">Agriculture</a></li>
            <li><a href="">Education</a></li>
            <li><a href="">Healthcare</a></li>
            <li><a href="">Franchising</a></li>
            <li><a href="">Professional services</a></li>
            <li><a href="">Real Estate</a></li>
          </ul>
        </li>
        <li><a href="">More products</a></li>
        </ul>
      </div>
    </div>

    <div class="mainheader" id="cgclientsmenu" style="display: none;">
      <div class="clientsmenu-1">
        <a href="#cgclients">For Corp. & Gov. clients ></a>
      </div>
      <div class="clientsmenu-2">
        <ul>
        <li><a href="">Giro accounts</a>
          <ul>
            <li><a href="">Business current account</a></li>
            <li><a href="">Treasurers' Account</a></li>
            <li><a href="">Switch your account to us</a></li>
            <li><a href="">Account for new businesses</a></li>
            <li><a href="">Terms and conditions</a></li>
          </ul>
        </li>
        <li><a href="">Loans and finance</a>
          <ul>
            <li><a href="">Business loans</a></li>
            <li><a href="">Overdrafts</a></li>
            <li><a href="">Mortgages</a></li>
            <li><a href="">Other finance options</a></li>
            <li><a href="">Terms and conditions</a></li>
          </ul>
        </li>
        <li><a href="">Loans and finance</a>
          <ul>
            <li><a href="">Business loans</a></li>
            <li><a href="">Overdrafts</a></li>
            <li><a href="">Mortgages</a></li>
            <li><a href="">Other finance options</a></li>
            <li><a href="">Terms and conditions</a></li>
          </ul>
        </li>
        <li><a href="">More products</a></li>
        </ul>
      </div>
    </div>

    <div class="mainheader" id="onlinebanklogon">
      <p />Here is logon to online bank
      <p />Here is logon to online bank
      <p />Here is logon to online bank
      <p />Here is logon to online bank
    </div>
  </header>

  <main>  

  <div class="homeblock" id="privateclients">
    <div class="homeblock-left"></div>
    <div class="homeblock-center">
      <section class="privateclients-section" id="privateclients-section-1">
         <p />privateclients privateclients privateclients privateclients
         <p />The best offer 1 for private clients
         <p />The best offer 1 for private clients
         <p />1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0
         <p style="font-size: 200%;"/>Banking’s digital revolution
         <p style="font-size: 150%;"/>Advances in digital technology have created some incredible opportunities for banks and will continue to do so.
         <p />The best offer 1 for private clients
         <br /><br />
         <input type="button" class = "offerbutton" value="Offer details" style="float: right;">
      </section>
      <section class="privateclients-section" id="privateclients-section-2" style="display: none;">
         <p />privateclients privateclients privateclients privateclients
         <p />The best offer 2 for private clients
         <p />The best offer 2 for private clients
         <p />The best offer 2 for private clients
         <p />The best offer 2 for private clients
         <p />The best offer 2 for private clients
         <p />privateclients privateclients privateclients privateclients
         <br /><br />
         <input type="button" class = "offerbutton" value="Offer details" style="float: right;">
      </section>
      <section class="privateclients-section" id="privateclients-section-3" style="display: none;">
         <p />privateclients privateclients privateclients privateclients
         <p />The best offer 3 for private clients
         <p />The best offer 3 for private clients
         <p />The best offer 3 for private clients
         <p />The best offer 3 for private clients
         <p />privateclients privateclients privateclients privateclients
         <br /><br />
         <input type="button" class = "offerbutton" value="Offer details" style="float: right;">
      </section>
    </div>
    <div class="homeblock-right">
      <div class="homeblock-right-arrow-left"></div>
      <div class="homeblock-right-arrow-right"></div>
    </div>
  </div>

  <div class="homeblock" id="businessclients">
    <div class="homeblock-left">
         <p />
    </div>
    <div class="homeblock-center">
      <section>
         <p />businessclients center-businessclients center-businessclients center
         <p />The best offer 1 for business clients
         <p />The best offer 1 for business clients
         <p />The best offer 1 for business clients
         <p />The best offer 1 for business clients
         <p />The best offer 1 for business clients
         <p />The best offer 1 for business clients
         <p />The best offer 1 for business clients
         <p />The best offer 1 for business clients
         <p />The best offer 1 for business clients
         <p />The best offer 1 for business clients
         <p />The best offer 1 for business clients
         <p />The best offer 1 for business clients
         <p />businessclients center-businessclients center-businessclients center
         <br /><br />
         <input type="button" class = "offerbutton" value="Offer details" style="float: right;">
      </section>
    </div>
    <div class="homeblock-right">
    </div>
  </div>

  <div class="homeblock" id="cgclients">
    <div class="homeblock-left">
    </div>
    <div class="homeblock-center">
      <section>
         <p />The best offer 1 for c&gclients The best offer 1 for c&gclients
         <p />The best offer 1 for c&gclients The best offer 1 for c&gclients
         <p />The best offer 1 for c&gclients The best offer 1 for c&gclients
         <p />The best offer 1 for c&gclients The best offer 1 for c&gclients
         <p />The best offer 1 for c&gclients The best offer 1 for c&gclients
         <p />The best offer 1 for c&gclients The best offer 1 for c&gclients
         <p />The best offer 1 for c&gclients The best offer 1 for c&gclients
         <br /><br />
         <input type="button" class = "offerbutton" value="Offer details">
      </section>
    </div>
    <div class="homeblock-right">
    </div>
  </div>

  <div id="unmovable-block-1">
    <section >
      <img src="images/PupsBank-logo-white.png" alt="PupsBank logo">
      <br />
      <p style="text-align:center;"/>Open a checking account in minutes
      <p style="text-align:center;"/>with an easy online application
      <br /><br /><br />
      <p style="color:white;background:#002040;text-align:right;"/>Apply online NOW &nbsp;
    </section>
  </div>
  <div id="unmovable-block-2">
    <div style="display: inline-block; font-size: 150%; width: 255px;">
    <section>
      <p /><a href="#privateclients" style="color: inherit; text-decoration: none;">Private clients</a> 
      <p /><a href="#businessclients" style="color: inherit; text-decoration: none;">Business clients</a> 
      <p /><a href="#cgclients" style="color: inherit; text-decoration: none;">Corporate and government clients</a> 
      <p /><b><a href="#Onlinebank" style="color: inherit; text-decoration: none;">Online bank</a></b> 
    </section>
    </div>
    <div style="display: inline-block; float: right;">
      <img src="images/WC2018.jpg" alt="WC2018" height="160" style="border-radius: 5px;">
    </div>
  </div>
  <div id="unmovable-block-3">
    <section>
      <p /><b>Management board apologises for former misconduct</b>
      <p />Legacy issues have cost us a lot of money. Reputation and trust are hit as well.
      <br />
      <p style="color:white;background:#002040;text-align:right;"/>Read the entire letter &nbsp;
    </section>
  </div>

  <div id="unmovable-footer">
    <section id="unmovable-footer-left">
    </section>
    <section id="unmovable-footer-right">
        <p />Imprint &#9734 Legal info &#9734 Accessibility
        <p />© 2017 PupsBank Corp., New-London 
        <p />Last Update: <script>var today = new Date();document.write(today.toDateString());</script>
        <p />It's a fake bank. It's not a bank at all. It's only a technologies demonstrator. Do NOT make any financial operations here!
    </section>
  </div>

  <div id="popup-dbedit" class="modal-box"> 
  <div style="display:table;width:100%;height:100%;border-spacing:5px;"> 
    <div style="display:table-row;widht:100%;height:50px;">
      <div style="display:table-cell;border-bottom:1pt solid grey;padding-top:5px;"><h2>Edit record</h2></div>
      <div style="display:table-cell;border-bottom:1pt solid grey;text-align:right;"><input type="button" class = "closebutton" value="x"></div>
    </div>
    <div id="popup-dbedit-content" style="display:table-row;"></div>
    <div id="popup-dbedit-statusline" style="display:table-row;"></div>
    <div id="popup-dbedit-buttons" style="display:table-row;">
      <input type="button" id = "updatebutton" value="Update">
      <input type="button" id = "deletebutton" value="Delete">
      <input type="button" id = "dublicatebutton" value="Duplicate">
      <input type="button" id = "newrecordbutton" value="New record">
    </div>
    <div style="display:table-row;margin-bottom:-50px;height:50px;">
      <div style="display:table-cell;border-top:1pt solid grey;"></div>
      <div style="display:table-cell;border-top:1pt solid grey;padding-top:3px;text-align:right;"><input type="button" class = "closebutton" value="Close"></div>
    </div>
  </div>
  </div>
  <div id="popup-background" class="modal-box"> 
  </div>
  
  </main>

  <footer>
  </footer>

<script>
$(function() {
  console.log("------");

  $(document).on("click", "#updatebutton", function() {
    var xmlData = '<result>';
    $("#popup-dbedit-content input").each(function(){
    	xmlData = xmlData +'<' + $(this).attr('id') + '>' + $(this).val() + '</' +  $(this).attr('id') + '>';
    });
    var xmlData = xmlData + '</result>';
    $.ajax({
      type: "POST",
      url: "AjaxServlet01",
      contentType: "text/xml",
      dataType: "text",
      data: xmlData,
      success: function(response){
        $("#popup-dbedit-content").css('background-color','green');
        $("#popup-dbedit-statusline").css('color','green');
        $("#popup-dbedit-statusline").text(response);
        setTimeout(function(){CloseDbEditPopUp();},200);},
        error: function(response, status, error) {
          $("#popup-dbedit-statusline").append(response.responseText);
          console.log(response.responseText);
        }
    });
  });

  $(document).on("click", ".offerbutton", function() {
    $.get("AjaxServlet01", function(responseXML) {
      $("#privateclients-section-1").html($('<table id="XMLtoHtmlTable" border="1"></table>'));
      XMLtoHtmlTable('#XMLtoHtmlTable', responseXML)
      $('#XMLtoHtmlTable').on('dblclick', 'td', function() {
        $(".modal-box").css('display', 'inline-block');
        $($(this).closest('tr')).find('td').each(function() {
          $("#popup-dbedit-content").append('<br><label style="display:inline-block;width:100px">'
                                            + $('#XMLtoHtmlTable th').eq($(this).index()).text()
                                            + '</label><input type="text" name='
                                            + $('#XMLtoHtmlTable th').eq($(this).index()).text()
                                            + ' id ='
                                            + $('#XMLtoHtmlTable th').eq($(this).index()).attr('id')
                                            + ' value=' + $(this).text() + '><br>');
        });
      });
    });
  });

  function XMLtoHtmlTable(htmlTable, xml) {
    var tableHeader = $('<tr><th id = "CONTRACT_NUMBER">CONTRACT</th>'
                          + '<th id = "ACCOUNTING_ENTRIES_ID">ID</th>'
                          + '<th id = "DEBIT">DEBIT</th>'
                          + '<th id = "CREDIT">CREDIT</th>'
                          + '<th id = "AMOUNT">AMOUNT</th>'
                          + '<th id = "CURRENCY">CUR</th></tr>');
    $(htmlTable).append(tableHeader);
    var tableRow;
    $(xml).find('result').each(function() {
    	tableRow = '<tr><td>' + $(this).find('CONTRACT_NUMBER').text() + '</td><td>'
                            + $(this).find('ACCOUNTING_ENTRIES_ID').text() + '</td><td>'
                            + $(this).find('DEBIT').text() + '</td><td>'
                            + $(this).find('CREDIT').text() + '</td><td>'
                            + $(this).find('AMOUNT').text() + '</td><td>'
                            + $(this).find('CURRENCY').text() + '</td></tr>';
      $(htmlTable).append(tableRow);
    });
  }

  $(document).on("click", ".closebutton", function() {
    CloseDbEditPopUp();
  });

  function CloseDbEditPopUp() {
    $(".modal-box").css('display', 'none');
    $("#popup-dbedit-content").empty();
    $("#popup-dbedit-statusline").empty();
    $("#popup-dbedit-content").css('background-color','white');
  }


/* JSON response to HTML table
  $(document).on("click", ".offerbutton", function() {
    $.get("AjaxServlet01", function(responseJSON) {
      $("#privateclients-section-1").html($('<table id="JSONtoHtmlTable" border="1"></table>'));
      JSONtoHtmlTable('#JSONtoHtmlTable', responseJSON)
    });
  });

  function JSONtoHtmlTable(HtmlTable, JSONobj) {
	  var columns = [];
	  var tableHeader = $('<tr/>');
	  for (var i = 0; i < JSONobj.length; i++) {
	    var rowHash = JSONobj[i];
	    for (var key in rowHash) {if ($.inArray(key, columns) == -1) {columns.push(key); tableHeader.append($('<th/>').html(key));}}
	  }
    $(HtmlTable).append(tableHeader);
	  for (var i = 0; i < JSONobj.length; i++) {
	    var tableRow = $('<tr/>');
	    for (var colIndex = 0; colIndex < columns.length; colIndex++) {
	      var cellValue = JSONobj[i][columns[colIndex]];
	      if (cellValue == null) cellValue = "";
	      tableRow.append($('<td/>').html(cellValue));
	    }
	  $(HtmlTable).append(tableRow);
	  }
	}
JSON response to HTML table */

	$(window).scroll(function() {
    if (window.pageYOffset <= 0.9*$(window).height()) {
        $("#privateclientsmenu").css('display', 'inline');
        $("#businessclientsmenu").css('display', 'none');
        $("#cgclientsmenu").css('display', 'none');
    }
    if (window.pageYOffset > 0.9*$(window).height() & window.pageYOffset < 1.9*$(window).height()) {
        $("#privateclientsmenu").css('display', 'none');
        $("#businessclientsmenu").css('display', 'inline');
        $("#cgclientsmenu").css('display', 'none');
    }
    if (window.pageYOffset >= 1.9*$(window).height()) {
        $("#privateclientsmenu").css('display', 'none');
        $("#businessclientsmenu").css('display', 'none');
        $("#cgclientsmenu").css('display', 'inline');
    }
  });

	var currentslide = 1;
  $(".homeblock-right-arrow-left").click(function() {
    currentslide++; if (currentslide > 3) { currentslide = 1; }
    setSlide ();
	});
	$(".homeblock-right-arrow-right").click(function() {
    currentslide--; if (currentslide < 1) { currentslide = 3; }
	  setSlide ();
	});
	  var setSlide =  function() {
	        $(".privateclients-section").css('display', 'none');
	        if (currentslide == '1') {
	          $("#privateclients").css('background-image', 'url("images/ballet01.jpg")');
            $("#privateclients-section-1").css('display', 'inline');
	          $(".homeblock-right-arrow-left").css('display', 'block');
	          $(".homeblock-right-arrow-right").css('display', 'none');
            $(".homeblock-right-arrow-left").css('left', '0px');
            $(".homeblock-right-arrow-left").css('top', '0px');
	        }
	        if (currentslide == '2') {
	          $("#privateclients").css('background-image', 'url("images/ballet04.jpg")');
	          $("#privateclients-section-2").css('display', 'inline');
            
	          $(".homeblock-right-arrow-left").css('display', 'block');
            $(".homeblock-right-arrow-left").css('position', 'relative');
            $(".homeblock-right-arrow-left").css('left', '0px');
            $(".homeblock-right-arrow-left").css('top', '50px');
            
            $(".homeblock-right-arrow-right").css('display', 'block');
            $(".homeblock-right-arrow-right").css('position', 'relative');
            $(".homeblock-right-arrow-right").css('left', '-20px');
            $(".homeblock-right-arrow-right").css('top', '-50px');
	        }
	        if (currentslide == '3') {
	          $("#privateclients").css('background-image', 'url("images/ballet05.jpg")');
	          $("#privateclients-section-3").css('display', 'inline');
	          $(".homeblock-right-arrow-left").css('display', 'none');
	          $(".homeblock-right-arrow-right").css('display', 'block');
            $(".homeblock-right-arrow-right").css('left', '0px');
            $(".homeblock-right-arrow-right").css('top', '0px');
	        }
	  };
});
</script>
</body>
</html>